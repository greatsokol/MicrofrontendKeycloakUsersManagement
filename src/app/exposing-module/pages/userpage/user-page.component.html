<div>
  <title-component
    title="Пользователь {{ userName + ' (' + realmName + ')' }}">
  </title-component>

  <div *ngIf="dataLoader.getData() as data" class="test-data-div">
    <div class="mb-2 row">
      <label class="col-sm-2 col-form-label fw-bold" for="userName">Пользователь</label>
      <div class="col-sm-10">
        <input class="form-control-plaintext" id="userName" readonly type="text" value="{{data.payload.userName}}">
      </div>
    </div>
    <div class="mb-2 row">
      <label class="col-sm-2 col-form-label fw-bold" for="realmName">Рилм</label>
      <div class="col-sm-10">
        <input class="form-control-plaintext" id="realmName" readonly type="text" value="{{data.payload.realmName}}">
      </div>
    </div>
    <div class="mb-2 row">
      <label class="col-sm-2 col-form-label fw-bold" for="userId">Идентификатор</label>
      <div class="col-sm-10">
        <input class="form-control-plaintext" id="userId" readonly type="text" value="{{data.payload.userId}}">
      </div>
    </div>
    <div class="mb-2 row">
      <label class="col-sm-2 col-form-label fw-bold" for="createdTime">Создан</label>
      <div class="col-sm-10">
        <input class="form-control-plaintext" id="createdTime" readonly type="text"
               value="{{data.payload.created != 0 ? (data.payload.created | date : dateFormat) : ''}}">
      </div>
    </div>
    <div class="mb-2 row">
      <label class="col-sm-2 col-form-label fw-bold" for="lastLogin">Последний&nbsp;логин</label>
      <div class="col-sm-10">
        <input class="form-control-plaintext" id="lastLogin" readonly type="text"
               value="{{data.payload.lastLogin != 0 ? (data.payload.lastLogin | date : dateFormat) : ''}}">
      </div>
    </div>
    <div class="mb-2 row">
      <label class="col-sm-2 col-form-label fw-bold" for="comment">Комментарий</label>
      <div class="col-lg-8">
        <input class="form-control-plaintext" id="comment" readonly type="text"
               value="{{data.payload.comment}}">
      </div>
      <div class="col-sm">
        <a aria-current="page" class="btn btn-outline-success"
           routerLink="events">События</a>
      </div>
    </div>
    <div class="mb-2 row">
      <div class="text-center h1">
        <input class="form-check-input" id="enbl"
               [checked]="data.payload.enabled"
               [disabled]="!data.principal.admin"
               type="checkbox"
               #enabledInputCheckBox>
        <label class="form-check-label" for="enbl">Включен</label>
      </div>
    </div>
    <div class="mb-2 row">
      <div class="text-center">
        <button *ngIf="data.principal.admin" aria-current="page" class="btn btn-outline-danger"
                (click)="postChanges()">Сохранить
        </button>
<!--        <button aria-current="page" class="btn btn-outline-success"-->
<!--                onclick="history.back()">Назад-->
<!--        </button>-->
      </div>
    </div>
  </div>

  <div *ngIf="dataLoader.getError() as error" class="test-error-div">{{ error }}</div>
  <progress-component *ngIf="!dataLoader.getData() && !dataLoader.getError()" class="test-progress"></progress-component>
</div>


